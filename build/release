#!/usr/bin/env bash

cd "$(dirname "${BASH_SOURCE[0]}")/../lib"

setup() { echo > ,; }
teardown() { rm ,; }
compile() { cat display.bash , script.bash , exit.bash , time.bash , utility.bash , wrappers.bash , compatibility.bash , init.bash; }
comments() { \grep $1 '^\s*#'; }
no_comments() { comments -v; }
usages() { \grep '^\s*# usage:' -A 4; }
mutate_usage() { sed ''; }
mutate_example() { sed ''; }

setup
compile | no_comments > ../modern.sh
compile | usages | comments > ../doc/help.txt
teardown
